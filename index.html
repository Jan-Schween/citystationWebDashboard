<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Wetterstation Grüngürtel</title>
    <script>
        async function queryAPI() {
            let url = 'data.json';
            try {
                let res = await fetch(url);
                return await res.json();
            } catch (error) {
                console.log(error);
            }
        }
        async function updateBoxes() {
            let data = await queryAPI();
            document.querySelector("#datetime").innerHTML = data["datetime"]
            document.querySelector("#temperature").innerHTML = data["temperature"]+" °C"
            document.querySelector("#humidity").innerHTML = data["humidity"]+" %"
            document.querySelector("#pressure").innerHTML = data["pressure"]+" hPa"
            document.querySelector("#uv").innerHTML = data["uv"]
            document.querySelector("#speed").innerHTML = data["speed"]+" km/h"
            document.querySelector("#direction").innerHTML = data["direction"]
            
        }
        updateBoxes()
        setInterval(function(){ 
          updateBoxes()
            //code goes here that will be run every 5 seconds.    
        }, 5000);
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/js/adminlte.min.js"></script>
    <link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/admin-lte@3.2/dist/css/adminlte.min.css">
    <link
      href="cdn.jsdelivr.net/npm/@mdi/font@6.9.96/css/materialdesignicons.min.css"
      rel="stylesheet">
    <script type="module"
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule
      src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
    <link rel="stylesheet"
      href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <script
      src="https://code.iconify.design/iconify-icon/1.0.0/iconify-icon.min.js"></script>
    <link rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">
  </head>
  <body class="hold-transition sidebar-collapse layout-fixed">
    <div class="wrapper">





      <div class="content-wrapper">

        <div class="content-header">
          <div class="container-fluid">
            <div class="row mb-2">
              <div class="col-sm-6">
                <h1 class="m-0">Wetterstation Grüngürtel</h1>
              </div>
              <div class="col-sm-6">
                <ol class="breadcrumb float-sm-right">
                <li class="breadcrumb-item active" id="datetime"></li>
                </ol>
                </div>
            </div>
          </div>
        </div>


        <section class="content">
          <div class="container-fluid">

            <div class="row">
              <div class="col-lg-3 col-6">

                <div class="small-box bg-info">
                  <div class="inner">
                    <h3 id="temperature">NaN</h3>
                    <p>Temperatur</p>
                  </div>
                  <div class="icon">
                    <i class="bi bi-thermometer-half"></i>
                  </div>
                  <a href="#" class="small-box-footer">Zeitverlauf <i class="bi
                      bi-graph-up"></i></a>

                </div>
              </div>

              <div class="col-lg-3 col-6">

                <div class="small-box bg-info">
                  <div class="inner">
                    <h3 id="humidity">NaN</h3>
                    <p>relative Feuchte</p>
                  </div>
                  <div class="icon">
                    <i class="bi bi-droplet"></i>
                  </div>
                  <a href="#" class="small-box-footer">Zeitverlauf <i class="bi
                      bi-graph-up"></i></a>
                </div>
              </div>





            </div>
            <div class="row">
              <div class="col-lg-3 col-6">

                <div class="small-box bg-success">
                  <div class="inner">
                    <h3 id="pressure">NaN</h3>
                    <p>Luftdruck</p>
                  </div>
                  <div class="icon">
                    <i class="bi bi-speedometer2"></i>
                  </div>
                  <a href="#" class="small-box-footer">Zeitverlauf <i class="bi
                      bi-graph-up"></i></a>
                </div>
              </div>

              <div class="col-lg-3 col-6">

                <div class="small-box bg-success">
                  <div class="inner">
                    <h3 id="uv">NaN</h3>
                    <p>UV-Index</p>
                  </div>
                  <div class="icon">
                    <i class="bi bi-brightness-high"></i>
                  </div>
                  <a href="#" class="small-box-footer">Zeitverlauf <i class="bi
                      bi-graph-up"></i></a>
                </div>
              </div>

            </div>

            <div class="row">
              <div class="col-lg-3 col-6">

                <div class="small-box bg-danger">
                  <div class="inner">
                    <h3 id="speed">NaN</h3>
                    <p>Windgeschwindigkeit</p>
                  </div>
                  <div class="icon">
                    <i class="bi bi-wind"></i>
                  </div>
                  <a href="#" class="small-box-footer">Zeitverlauf <i class="bi
                      bi-graph-up"></i></a>
                </div>
              </div>
              <div class="col-lg-3 col-6">

                <div class="small-box bg-danger">
                  <div class="inner">
                    <h3 id="direction">NaN</h3>
                    <p>Windrichtung</p>
                  </div>
                  <div class="icon">
                    <i class="bi bi-wind"></i>
                  </div>
                  <a href="#" class="small-box-footer">Zeitverlauf <i class="bi
                      bi-graph-up"></i></a>

                </div>
              </div>
            </div>



          </div>
        </section>


      </div>





    </div>

    <footer class="main-footer">
      <strong>Copyright &copy; 2022 <a href="https://geomet.uni-koeln.de/">Institut
          für Geophysik und Meteorologie</a>.</strong>
      All rights reserved.
      <div class="float-right d-none d-sm-inline-block">
        <b>Version</b> 0.1
      </div>
    </footer>


  </body>
</html>
